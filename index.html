<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monthly Cashflow & Investment Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2em;
        }
        .header {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }
        .header input {
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            width: 200px;
        }
        h2 {
            color: #667eea;
            margin: 30px 0 15px 0;
            font-size: 1.5em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        h3 {
            color: #555;
            margin: 20px 0 10px 0;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px;
            text-align: left;
        }
        td {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        tr:hover {
            background: #f8f9ff;
        }
        input[type="text"], input[type="number"], input[type="date"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        input[type="number"] {
            text-align: right;
        }
        .total-row {
            font-weight: bold;
            background: #f0f0f0;
        }
        .total-row td {
            padding: 15px;
            border-top: 2px solid #667eea;
        }
        .summary-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
        }
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 15px;
        }
        .summary-item {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 8px;
        }
        .summary-item .value {
            font-size: 1.8em;
            font-weight: bold;
        }
        .strategy-section {
            background: #f8f9ff;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .allocation-bar {
            display: flex;
            align-items: center;
            margin: 15px 0;
            gap: 15px;
        }
        .allocation-bar label {
            width: 150px;
            font-weight: 600;
        }
        .bar-container {
            flex: 1;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
        }
        .bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }
        .allocation-bar input {
            width: 80px;
        }
        .allocation-bar .delete-btn {
            width: 30px;
            height: 30px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            line-height: 1;
        }
        .allocation-bar .delete-btn:hover {
            background: #c82333;
        }
        .strategy-list {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }
        .strategy-list h4 {
            color: #667eea;
            margin-bottom: 10px;
        }
        .action-items {
            background: #fff3cd;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #ffc107;
        }
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }
        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
        }
        .goal-box {
            background: #d4edda;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #28a745;
            margin: 20px 0;
        }
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: inherit;
            margin-top: 10px;
        }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn-small {
            padding: 8px 16px;
            font-size: 0.9em;
        }
        .add-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
        }
        .add-btn:hover {
            background: #218838;
        }
        .button-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }
        .delete-investment-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.85em;
        }
        .delete-investment-btn:hover {
            background: #c82333;
        }
        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container {
                box-shadow: none;
            }
            .btn, .add-btn, .delete-btn, .delete-investment-btn {
                display: none;
            }
            .button-group {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üí∞ Monthly Cashflow & Investment Tracker</h1>
        <div class="header">
            <input type="text" placeholder="Month" id="month">
            <input type="text" placeholder="Year" id="year">
        </div>
        <h2>üí∞ Income</h2>
        <table>
            <tr>
                <th>Source</th>
                <th>Amount (‚Ç∫)</th>
                <th>Date</th>
                <th>Notes</th>
            </tr>
            <tr>
                <td>Salary/Primary Income</td>
                <td><input type="number" class="income" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Investment Returns</td>
                <td><input type="number" class="income" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Side Hustle</td>
                <td><input type="number" class="income" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Other Income</td>
                <td><input type="number" class="income" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr class="total-row">
                <td>TOTAL INCOME</td>
                <td id="totalIncome">0.00 ‚Ç∫</td>
                <td colspan="2"></td>
            </tr>
        </table>
        <h2>üí∏ Expenses</h2>
        <h3>Fixed Expenses</h3>
        <table>
            <tr>
                <th>Category</th>
                <th>Amount (‚Ç∫)</th>
                <th>Due Date</th>
                <th>Notes</th>
            </tr>
            <tr>
                <td>Rent/Mortgage</td>
                <td><input type="number" class="expense" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Utilities</td>
                <td><input type="number" class="expense" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Insurance</td>
                <td><input type="number" class="expense" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Subscriptions</td>
                <td><input type="number" class="expense" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Loan Payments</td>
                <td><input type="number" class="expense" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
        </table>
        <h3>Variable Expenses</h3>
        <table>
            <tr>
                <th>Category</th>
                <th>Amount (‚Ç∫)</th>
                <th>Date</th>
                <th>Notes</th>
            </tr>
            <tr>
                <td>Groceries</td>
                <td><input type="number" class="expense" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Transportation</td>
                <td><input type="number" class="expense" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Dining Out</td>
                <td><input type="number" class="expense" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Entertainment</td>
                <td><input type="number" class="expense" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Healthcare</td>
                <td><input type="number" class="expense" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>Shopping</td>
                <td><input type="number" class="expense" step="0.01"></td>
                <td><input type="date"></td>
                <td><input type="text"></td>
            </tr>
            <tr class="total-row">
                <td>TOTAL EXPENSES</td>
                <td id="totalExpenses">0.00 ‚Ç∫</td>
                <td colspan="2"></td>
            </tr>
        </table>
        <div class="summary-box">
            <h2 style="color: white; margin-top: 0;">üìä Summary</h2>
            <div class="summary-grid">
                <div class="summary-item">
                    <label>Total Income</label>
                    <div class="value" id="summaryIncome">0.00 ‚Ç∫</div>
                </div>
                <div class="summary-item">
                    <label>Total Expenses</label>
                    <div class="value" id="summaryExpenses">0.00 ‚Ç∫</div>
                </div>
                <div class="summary-item">
                    <label>Net Cashflow</label>
                    <div class="value" id="netCashflow">0.00 ‚Ç∫</div>
                </div>
                <div class="summary-item">
                    <label>Savings Rate</label>
                    <div class="value" id="savingsRate">0%</div>
                </div>
            </div>
        </div>
        <h2>üéØ Investment Strategy</h2>
        <div class="strategy-section">
            <h3>
                Portfolio Allocation
                <button class="add-btn" onclick="addInvestment()">+ Add Investment</button>
            </h3>
            <div id="allocationBars"></div>
        </div>
        <div class="strategy-section">
            <h3>
                Performance Tracker
                <button class="add-btn" onclick="addPerformanceRow()">+ Add Investment</button>
            </h3>
            <table id="performanceTable">
                <tr>
                    <th>Investment</th>
                    <th>Capital (‚Ç∫)</th>
                    <th>Current Value (‚Ç∫)</th>
                    <th>ROI %</th>
                    <th></th>
                </tr>
            </table>
        </div>
        <div class="strategy-section">
            <h3>Recommended Strategies</h3>
            <div class="strategy-list">
                <h4>Three-Bucket Approach</h4>
                <p>Divide your investments: Stability (40%), Growth (30%), Speculative (20%), Emergency Reserve (10%)</p>
            </div>
            <div class="strategy-list">
                <h4>Dollar-Cost Averaging (DCA)</h4>
                <p>Invest fixed amounts monthly to reduce timing risk and emotional decisions</p>
            </div>
            <div class="strategy-list">
                <h4>Risk Mitigation</h4>
                <p>Maintain 3-6 months expenses in liquid savings before aggressive investing</p>
            </div>
        </div>
        <div class="action-items">
            <h3>üìù Monthly Actions</h3>
            <div class="checkbox-item">
                <input type="checkbox">
                <label>Update all income and expense entries</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox">
                <label>Review investment performance vs targets</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox">
                <label>Rebalance portfolio if needed</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox">
                <label>Set financial goal for next month</label>
            </div>
        </div>
        <div class="goal-box">
            <h3>üí° Monthly Goal</h3>
            <p>Target Net: <input type="number" style="width:150px"> ‚Ç∫</p>
            <p>Target Rate: <input type="number" style="width:100px"> %</p>
            <textarea rows="3" placeholder="Notes and progress..."></textarea>
        </div>
        <div class="button-group">
            <button class="btn" onclick="window.print()">üñ®Ô∏è Print</button>
            <button class="btn" onclick="resetForm()">üîÑ Reset</button>
        </div>
    </div>
    <script>
        let investmentCounter = 0;
        let performanceCounter = 0;
        
        function calc() {
            let inc = 0;
            document.querySelectorAll('.income').forEach(i => inc += parseFloat(i.value) || 0);
            let exp = 0;
            document.querySelectorAll('.expense').forEach(i => exp += parseFloat(i.value) || 0);
            document.getElementById('totalIncome').textContent = inc.toFixed(2) + ' ‚Ç∫';
            document.getElementById('totalExpenses').textContent = exp.toFixed(2) + ' ‚Ç∫';
            document.getElementById('summaryIncome').textContent = inc.toFixed(2) + ' ‚Ç∫';
            document.getElementById('summaryExpenses').textContent = exp.toFixed(2) + ' ‚Ç∫';
            let net = inc - exp;
            document.getElementById('netCashflow').textContent = net.toFixed(2) + ' ‚Ç∫';
            let rate = inc > 0 ? ((net / inc) * 100) : 0;
            document.getElementById('savingsRate').textContent = rate.toFixed(1) + '%';
        }
        
        document.querySelectorAll('.income, .expense').forEach(i => i.addEventListener('input', calc));
        
        function addInvestment() {
            const id = investmentCounter++;
            const container = document.getElementById('allocationBars');
            const div = document.createElement('div');
            div.className = 'allocation-bar';
            div.id = 'invest-' + id;
            div.innerHTML = `
                <input type="text" placeholder="Investment name" style="width:150px" class="invest-name">
                <div class="bar-container">
                    <div class="bar-fill" id="bar-${id}"></div>
                </div>
                <input type="number" class="alloc-input" data-id="${id}" min="0" max="100" value="0"> %
                <button class="delete-btn" onclick="removeInvestment('invest-${id}')">√ó</button>
            `;
            container.appendChild(div);
            div.querySelector('.alloc-input').addEventListener('input', updateBars);
        }
        
        function removeInvestment(id) {
            document.getElementById(id).remove();
            updateBars();
        }
        
        function updateBars() {
            document.querySelectorAll('.alloc-input').forEach(input => {
                const id = input.dataset.id;
                const value = input.value || 0;
                const bar = document.getElementById('bar-' + id);
                if (bar) bar.style.width = value + '%';
            });
        }
        
        function addPerformanceRow() {
            const id = performanceCounter++;
            const table = document.getElementById('performanceTable');
            const row = table.insertRow();
            row.id = 'perf-' + id;
            row.innerHTML = `
                <td><input type="text" placeholder="Investment name"></td>
                <td><input type="number" class="capital" data-row="${id}" step="0.01"></td>
                <td><input type="number" class="current" data-row="${id}" step="0.01"></td>
                <td id="roi-${id}">0%</td>
                <td><button class="delete-investment-btn" onclick="removePerformanceRow('perf-${id}')">Delete</button></td>
            `;
            row.querySelector('.capital').addEventListener('input', calculateROI);
            row.querySelector('.current').addEventListener('input', calculateROI);
        }
        
        function removePerformanceRow(id) {
            document.getElementById(id).remove();
        }
        
        function calculateROI() {
            document.querySelectorAll('.capital').forEach(input => {
                const r = input.dataset.row;
                const cap = parseFloat(input.value) || 0;
                const curInput = document.querySelector('.current[data-row="' + r + '"]');
                if (!curInput) return;
                const cur = parseFloat(curInput.value) || 0;
                const roiEl = document.getElementById('roi-' + r);
                if (roiEl && cap > 0) {
                    const p = ((cur - cap) / cap * 100).toFixed(2);
                    roiEl.textContent = p + '%';
                    roiEl.style.color = p >= 0 ? '#28a745' : '#dc3545';
                }
            });
        }
        
        function resetForm() {
            if (confirm('Are you sure you want to reset all fields?')) {
                location.reload();
            }
        }
        
        // Initialize with default date
        let t = new Date();
        document.getElementById('month').value = t.toLocaleString('default', {month: 'long'});
        document.getElementById('year').value = t.getFullYear();
        
        // Add initial investments
        addInvestment();
        addInvestment();
        addPerformanceRow();
        addPerformanceRow();
    </script>
</body>
</html>
